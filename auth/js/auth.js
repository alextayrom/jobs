"undefined"==typeof public&&(public={}),public.auth={init:function(){$("body main form").on("submit",(function(){var r=$(this).find("button");if(r.hasClass("disabled")||r.attr("disabled")||r.attr("data-captcha"))return!1;public.auth.send()})),$("body main form button").on("click",(function(){var r=$(this);(r.hasClass("disabled")||r.attr("disabled")||r.attr("data-captcha"))&&$("body main form button").addClass("loader")})),$("main [data-uloginbutton]").on("click",(function(){public.auth.social({el:$(this)})}))},send:function(r){var t=$.extend({},{loader:"body main form button",form:"body main form"},r);core.ajax({url:"/user/auth",ident:"send",loader:t.loader,form:t.form,success:function(r){if(core.captcha.reset(),r&&r.error){if(r.error.count)return Swal.fire({text:r.error.count,icon:"error",confirmButtonText:global.lang.public.pattern.script.close});if(r.error.login)return Swal.fire({text:r.error.login,icon:"error",confirmButtonText:global.lang.public.pattern.script.close});if(r.error.email)return Swal.fire({text:r.error.email,icon:"error",confirmButtonText:global.lang.public.pattern.script.close});if(r.error["login-email"])return Swal.fire({text:r.error["login-email"],icon:"error",confirmButtonText:global.lang.public.pattern.script.close});if(r.error.password)return Swal.fire({text:r.error.password,icon:"error",confirmButtonText:global.lang.public.pattern.script.close});if(r.error.captcha)return Swal.fire({text:r.error.captcha,icon:"error",confirmButtonText:global.lang.public.pattern.script.close});if(r.error["invalid-data"])return Swal.fire({text:r.error["invalid-data"],icon:"error",confirmButtonText:global.lang.public.pattern.script.close})}}})},social:function(r){var t=$.extend({},{el:{},error:0,init:0},r);t.error>100||($('body script[src="//ulogin.ru/js/ulogin.js"]').length||$("body").append('<script src="//ulogin.ru/js/ulogin.js"><\/script>'),"undefined"==typeof uLogin?(t.init=1,core.timeout.set((function(){++t.error,public.auth.social(t)}),10)):t.init&&t.el.click())}},$(document).ready((function(){public.auth.init()}));
"undefined"==typeof public&&(public={}),public.news={init:function(){new Swiper(".roadmapSwiper",{breakpoints:{0:{slidesPerView:1,spaceBetween:25},700:{slidesPerView:2,spaceBetween:15},992:{slidesPerView:3,spaceBetween:15},1200:{slidesPerView:3,spaceBetween:20},1400:{slidesPerView:3,spaceBetween:30}},initialSlide:7,loop:!0,navigation:{nextEl:".roadmapSwiper-next",prevEl:".roadmapSwiper-prev"}}),$("body main section.news .reactions .emoji[data-type]").on("click",(function(){var e=$(this).closest("[data-id]").attr("data-id"),n=$(this).attr("data-type");public.news.reaction({id:e,type:n})}))},reaction:function(e){var n=$.extend({},{id:0,loader:"body main section.news .reactions",type:0},e);core.ajax({url:"/news/reaction-add",data:{id:n.id,type:n.type},ident:"reaction-add"+n.type,loader:n.loader,success:function(e){if(e&&e.error)return Swal.fire({text:e.error,icon:"error",confirmButtonText:global.lang.public.news.close});void 0!==e.balance&&pattern.index.main.balance(e.balance),e.status?$('body main section.news .reactions .emoji[data-type="'+n.type+'"]').addClass("active"):$('body main section.news .reactions .emoji[data-type="'+n.type+'"]').removeClass("active");var t=core.main.numl(e.count.total);for(var i in e.count.total>=1e3&&(t+="+"),$("body main section.news .reactions .all .value").text(t),$("body main section.news .reactions .all .desc").text(core.main.plural(e.count.total,global.lang.public.news["reaction-1"],global.lang.public.news["reaction-2"],global.lang.public.news["reaction-5"])),e.count.list)e.count.list[i]>0?$('body main section.news .reactions .emoji[data-type="'+i+'"] .count').length?$('body main section.news .reactions .emoji[data-type="'+i+'"] .count span').text(core.main.numl(e.count.list[i])):$('body main section.news .reactions .emoji[data-type="'+i+'"]').append('<div class="count"><span>'+core.main.numl(e.count.list[i])+"</span></div>"):$('body main section.news .reactions .emoji[data-type="'+i+'"] .count').remove();e.warning&&Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1e4,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",Swal.stopTimer),e.addEventListener("mouseleave",Swal.resumeTimer)}}).fire({icon:"warning",html:e.warning}),e.success&&Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1e4,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",Swal.stopTimer),e.addEventListener("mouseleave",Swal.resumeTimer)}}).fire({icon:"success",html:e.success})}})}},$(document).ready((function(){public.news.init()}));
"undefined"==typeof public&&(public={}),public.contest={init:function(){$("body main .content section.contest .title .history [data-id]:last").addClass("disabled"),$("body main .content section.contest .title .history [data-id]").on("click",(function(){$(this).hasClass("disabled")||($("body main .content section.contest .title .history [data-id]").removeClass("disabled"),$(this).addClass("disabled"),public.contest.data())})),$("body main section.contest [data-accept]").on("click",(function(){if(!$(this).hasClass("active")){var t=$(this).attr("data-accept");$("body main section.contest [data-accept]").removeClass("active"),$(this).addClass("active"),$("body main section.information [data-accept-content]").removeClass("active"),$('body main section.information [data-accept-content="'+t+'"]').addClass("active")}})),public.contest.timer()},data:function(){var t=$("body main .content section.contest .title .history [data-id].disabled").attr("data-id");core.ajax({url:"/contest/data",data:{id:t},loader:'body main .content section.contest .title .history [data-id="'+t+'"]',success:function(n){if(n){if($("body main .content section.contest .title h1 span").text(t),n["prize-fond"]){var i=n["prize-fond"].toString().padStart(4,"0");$("body main .content section.contest .inside .prize .number:nth-child(2) span").text(i[0]),$("body main .content section.contest .inside .prize .number:nth-child(3) span").text(i[1]),$("body main .content section.contest .inside .prize .number:nth-child(4) span").text(i[2]),$("body main .content section.contest .inside .prize .number:nth-child(5) span").text(i[3])}if(n.points){var e=core.main.num(n.points,+n.points>=1e3?0:2,".");$("body main .content section.information .cell--place .actual span").text(e)}else $("body main .content section.information .cell--place .actual span").text("0");if(n.place?$("body main .content section.information .cell--place .place span").text(core.main.num(n.place)):$("body main .content section.information .cell--place .place span").text("--"),$("body main .content section.information .cell--terms .how .line:nth-child(3) span").text(n["start-display"]),$("body main .content section.information .cell--terms .how .line:nth-child(4) span").text(n["end-display"]),n.timer?$("body main section.information [data-timer]").attr("data-timer",n.timer):$("body main section.information [data-timer]").attr("data-timer","00:00:00"),public.contest.timer(),n.prize)for(var a in n.prize){var o=$("body main .content section.rating table tbody tr:nth-child("+a+")");n.prize[a].login?+global.app.user.auth?o.find("td:nth-child(2)").html('\n\t\t\t\t\t\t\t\t\t\t<a href="/'+global.url.profile+"/"+n.prize[a].login+'" class="user" target="_blank">\n\t\t\t\t\t\t\t\t\t\t\t<img src="/public/upload/image/avatar/sm/'+(n.prize[a].avatar||"default.jpg")+'">\n\t\t\t\t\t\t\t\t\t\t\t<span>'+n.prize[a].login+"</span>\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t"):o.find("td:nth-child(2)").html('\n\t\t\t\t\t\t\t\t\t\t<div class="user">\n\t\t\t\t\t\t\t\t\t\t\t<img src="/public/upload/image/avatar/sm/'+(n.prize[a].avatar||"default.jpg")+'">\n\t\t\t\t\t\t\t\t\t\t\t<span>'+n.prize[a].login+"</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t"):o.find("td:nth-child(2)").text("--"),e=n.prize[a].amount||0,o.find("td:nth-child(3) span").text(core.main.num(e,e>=1?0:2,".")),o.find("td:nth-child(4) span").text(core.main.num(n.prize[a]["prize-amount"]||0,0,"",""))}}}})},timer:function(){var t=$("body main section.information [data-timer]").attr("data-timer").split(":"),n=parseInt(t[0]||0),i=parseInt(t[1]||0),e=parseInt(t[2]||0),a=parseInt(t[3]||0);function o(){+n<10&&(n="0"+ +n),$("body main section.information .cell--timer .item--day .value").text(n),+i<10&&(i="0"+ +i),$("body main section.information .cell--timer .item--hour .value").text(i),+e<10&&(e="0"+ +e),$("body main section.information .cell--timer .item--minute .value").text(e),+a<10&&(a="0"+ +a),$("body main section.information .cell--timer .item--second .value").text(a)}o(),core.interval.set((function(){!function(){if(--a<0){if(--e<0){if(--i<0){if(--n<0)return core.interval.clear("app-contest-timer");i=23}e=59}a=59}o()}()}),1e3,"app-contest-timer")}},$(document).ready((function(){public.contest.init()}));